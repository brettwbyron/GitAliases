@use "sass:math";
@use "Library/settings/variables"as *;
@use "Library/tools/mixins"as *;
@use "Library/tools/flex"as *;
$mobile: false !default;
$internal: false !default;

#flip-grid {

    .flip-container {
        margin: 1em;       
        width: 100%;
        max-width: 400px;
        /*perspective: 1000px;*/

        &.active .flipper {
            transform: perspective(3000px) rotateY(180deg);

            @media all and (-ms-high-contrast:none) {

                *::-ms-backdrop,
                .back {
                    backface-visibility: visible;
                }

                /* IE11 */
            }
        }
    }

    .flip-container,
    .front,
    .back {
        cursor: pointer;
        height: 300px;

        .title, p {
            max-width: 100%;
        }
    }

    .flipper {
        transition-duration: 0.6s;
        transform-style: preserve-3d;
        /*transform: perspective(3000px) rotateY(0deg);*/
        perspective: 1000px;
        position: relative;
    }

    .front,
    .back {
        @include flex-col;
        @include flex-m-center;
        backface-visibility: hidden;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        padding: 2em;
        border-radius: $border-radius;

        i, svg {
            font-size: math.div(40, $font-size-body)+em;
        }

        h2 {
            line-height: 1.3;
        }

        img {
            height: 150px;
        }

        .title {
            font-size: math.div(20, $font-size-body) + em;
            margin: 0.5em 0;
            text-align: center;
        }
    }

    .front {
        background-color: $color-white;
        z-index: 2;

        i,
        svg {
            color: $color-primary;
        }

        .title {
            color: $color-secondary;
        }
    }

    .back {
        background-color: $color-secondary;
        color: $color-white;
        transform: perspective(3000px) rotateY(180deg);
        z-index: 100;

        h2,
        p,
        i,
        svg {
            color: inherit;
            text-align: center;
        }

    }
}

@if not $mobile {

    /* min-width: #{screen-sm-px} */
    @media all and (min-width: $screen-sm-em) {
        
        #flip-grid {

            .flip-container {
                width: calc(50% - 2em);
                max-width: 300px;
            }
        }
    }
    
    /* min-width: #{screen-md-px} */
    @media all and (min-width: $screen-md-em) {
        
        #flip-grid {
    
            .flip-container {           
                width: calc(33% - 2em);
                max-width: 350px;
            }
        }
    }

} //End desktop